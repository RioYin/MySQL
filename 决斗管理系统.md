<h1>决斗管理系统</h1>
<h2>题目描述</h2>
本数据库名为duel，用来管理与决斗有关的数据，数据库包含7个实体集，4个联系。4个联系中有3个多对多联系，1个一对多联系。数据库达到了在函数依赖范畴内的最高级别--即达到了BCNF。可能经常进行的操作有增删数据等。

<h2>数据库建模（ER图）</h2>
 ![image](/image/ER模型图.jpg)

<h2>表</h2>
* 决斗者（姓名，年龄，性别）
* 决斗盘（设备名称，类型）
* 所属（设备名称，姓名）
* 卡组（卡组名称，卡组核心）
* 持有（姓名，卡组名称，卡组核心）
* 卡片（名字，颜色）
* 包含（卡组名称，卡组核心，名字）
* 拥有（姓名，名字）
* 陷阱卡（名字，种类，颜色）
* 怪兽卡（名字，种类，颜色，攻击力，守备力）
* 魔法卡（名字，种类，颜色）

<h2>各个表的结构</h2>
* 决斗者表结构

| 字段名        | 数据类型       | 描述  |
| ------------- |:-------------:| :-----:|
| 姓名      | 字符串  | 长度为20，非空且唯一，主键 |
| 年龄      | 数值    |  默认值为18 |
| 性别      | 字符串  |  长度为2，取“男”或“女” |

* 决斗盘表结构

| 字段名        | 数据类型       | 描述  |
| ------------- |:-------------:| :-----:|
| 设备名称      | 字符串  | 长度为20，非空且唯一，主键 |
| 类型      | 字符串  |  长度为20 |

* 所属表结构

| 字段名        | 数据类型       | 描述  |
| ------------- |:-------------:| :-----:|
| 设备名称      | 字符串  | 引用决斗盘表的外码，长度为20，主键 |
| 姓名      | 字符串  |  引用决斗者表的外码，长度为20 |

* 卡组表结构

| 字段名        | 数据类型       | 描述  |
| ------------- |:-------------:| :-----:|
| 卡组名称      | 字符串  | 长度为20，非空且唯一，主键 |
| 卡组核心      | 字符串  | 长度为20，非空且唯一，主键 |

* 持有表结构

| 字段名        | 数据类型       | 描述  |
| ------------- |:-------------:| :-----:|
| 姓名      | 字符串  |  引用决斗者表的外码，长度为20 |
| 卡组名称      | 字符串  | 引用卡组表的外码，长度为20，非空，主键 |
| 卡组核心      | 字符串  | 引用卡组表的外码，长度为20，非空，主键 |

* 卡片表结构

| 字段名        | 数据类型       | 描述  |
| ------------- |:-------------:| :-----:|
| 名字      | 字符串  | 长度为20，非空且唯一，主键 |
| 颜色      | 字符串  |  长度为20 |

* 包含表结构

| 字段名        | 数据类型       | 描述  |
| ------------- |:-------------:| :-----:|
| 卡组名称      | 字符串  | 引用卡组表的外码，长度为20，非空，主键 |
| 卡组核心      | 字符串  | 引用卡组表的外码，长度为20，非空，主键 |
| 名字          | 字符串  | 引用卡片表的外码，长度为20，非空，主键 |

* 拥有表结构

| 字段名        | 数据类型       | 描述  |
| ------------- |:-------------:| :-----:|
| 姓名      | 字符串  | 引用决斗者表的外码，长度为20，非空，主键 |
| 名字      | 字符串  | 引用卡片表的外码，长度为20，非空，主键 |

* 陷阱卡表结构

| 字段名        | 数据类型       | 描述  |
| ------------- |:-------------:| :-----:|
| 名字      | 字符串  | 长度为20，非空且唯一，主键 |
| 种类      | 字符串    |  长度为20 |
| 颜色      | 字符串  |  长度为20 |

* 怪兽卡表结构

| 字段名        | 数据类型       | 描述  |
| ------------- |:-------------:| :-----:|
| 名字      | 字符串  | 长度为20，非空且唯一，主键 |
| 种类      | 字符串    |  长度为20 |
| 颜色      | 字符串  |  长度为20 |
| 攻击力      | 数值    |  默认值为0 |
| 守备力      | 数值  |  默认值为0 |

* 魔法卡表结构

| 字段名        | 数据类型       | 描述  |
| ------------- |:-------------:| :-----:|
| 名字      | 字符串  | 长度为20，非空且唯一，主键 |
| 种类      | 字符串    |  长度为20 |
| 颜色      | 字符串  |  长度为20 |

<h2>样例数据</h2>
* 决斗者表  

| 姓名        | 年龄      | 性别  |
| ------------- |:-------------:| :-----:|
| 武藤游戏      | 17  | 男 |
| 海马濑人      | 17    |  男 |
| 达兹      |    |  男 |
| 游城十代     | 18  | 男 |
| 丸藤亮      | 20  |  男 |
| 爱德菲尼克斯      | 17  |  男 |
| 不动游星      | 18  | 男 |
| 龙可      | 11    |  女 |
| 九十九游马      | 13  |  男 |
| 榊游矢      | 14   |  男 |

* 决斗盘表

| 设备名称	|  类型  |
|----------|:--------:|
| 决斗场	| 站立式 |
| 初世代决斗盘	| 站立式 | 
| 次世代决斗盘	| 站立式 | 
| 多玛式决斗盘	| 站立式 | 
| 次世代决斗盘改进版	| 站立式 | 
| 异地决斗场	| 站立式 | 
| D轮	|  骑乘式 | 
| 滑板式决斗盘	|  骑乘式 | 
| D视镜	| 站立式 | 
| 激光决斗盘	|  动作式 | 

<h2>创建和删除数据库</h2>
   
* 创建数据库截图：

 ![image](/image/创建数据库.jpg)

<h2>创建和删除基本表</h2>

* 创建表截图：

 ![image](/image/创建表.jpg)

* 创建结果（比较典型的几张表）：

   * 决斗者表
   
    ![image](/image/360截图19910202114628265.jpg)


   * 决斗盘表
   
   ![image](/image/360截图19910202114652234.jpg)

   * 所属表（一对多）
   
   ![image](/image/360截图19910202114742250.jpg)

   * 拥有表（多对多）
   
   ![image](/image/360截图19910202115615187.jpg)

   * 怪兽卡表
   
   ![image](/image/360截图19910202114929718.jpg)

   * 卡组表（键码有两个）
   
   ![image](/image/360截图19910202120102093.jpg)

* 修改表结构截图：

![image](/image/修改表结构.jpg)

 * 修改结果：
 
 ![image](/image/360截图19910202121918750.jpg)

 * 删除表截图：
 
 ![image](/image/删除表.jpg)

<h2>查询</h2>

* 查询表中的若干列：

![image](/image/查询表中的若干列.jpg)

* 查询表中的若干元组：

![image](/image/查询表中的若干元组.jpg)

* 对查询结果进行排序：

![image](/image/对查询结果进行排序.jpg)

* 使用计算函数汇总数据:

![image](/image/使用计算函数汇总数据.jpg)

* 对查询结果进行分组计算:

![image](/image/对查询结果进行分组计算.jpg)

* 多表连接查询:

![image](/image/多表连接查询.jpg)

<h2>数据增删改</h2>  

* 向某表中添加一条新数据记录:

![image](/image/向表中添加新纪录.jpg)

* 添加结果：

![image](/image/向表中添加新纪录的结果.jpg)


* 修改某表中的某些记录的值:

![image](/image/修改记录.jpg)
  

* 修改结果：

![image](/image/修改记录结果.jpg)

* 删除某表中的某些记录：
  
    （1）有条件删除
    
    ![image](/image/有条件删除.jpg)



     删除结果：
     
     ![image](/image/有条件删除结果.jpg)


    （2）无条件删除
    
    ![image](/image/无条件删除.jpg)


     无条件删除结果：
     
     ![image](/image/无条件删除结果.jpg)


